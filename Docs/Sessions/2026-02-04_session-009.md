# Session 2026-02-04 - session-009 (Schedule + Assessments Read)

## Goals
- Implement Today and Weekly schedule views
- Implement Today and Weekly assessment views (read-only for student)

## Context
- PRD: Today + Weekly schedule and assessments for both roles

## Atomic Tasks
1) Implement schedule queries from timetableSlots -- DONE:
   - todaySlotsProvider: today's slots for student (own class) or teacher (assigned classes)
   - weekSlotsProvider: full week grouped by dayOfWeek (1=Mon..7=Sun)
   - Helper functions: dayName() (French), formatTime() (HH:MM)
2) Implement assessments queries -- DONE:
   - todayAssessmentsProvider: today's assessments across user's classes
   - weekAssessmentsProvider: this week's assessments grouped by date (Mon-Sun)
   - Helper functions: assessmentTypeLabel(), statusLabel() (French)
3) Implement Accueil page -- DONE:
   - Greeting: "Bonjour, {firstName}" + role label
   - "Seances d'aujourd'hui" card with slot tiles (time + subject + class + room)
   - "Examens d'aujourd'hui" card with assessment tiles (time + title + type + class)
   - Empty states with French messages
   - Canceled assessments shown with strikethrough + red "Annule" badge
4) Implement Examens page with tabs -- DONE:
   - "Aujourd'hui" tab: list of assessment cards, empty state
   - "Cette semaine" tab: grouped by day with French day headers (e.g. "Lundi 03/02")
   - Assessment cards: time badge (gold/gray), title, type + subject + class
   - Canceled status styling (strikethrough + badge)
5) Role-aware data: student sees own class, teacher sees all assigned classes -- DONE

## Tests
- flutter analyze: 0 issues
- flutter test: 1 test passed

## Errors
- Fixed `__` unnecessary double underscore lint -> `_` in separatorBuilder

## Outputs
Files created:
- lib/features/schedule/schedule_providers.dart (todaySlotsProvider, weekSlotsProvider, dayName, formatTime)
- lib/features/assessments/assessments_providers.dart (todayAssessmentsProvider, weekAssessmentsProvider, assessmentTypeLabel, statusLabel)

Files modified:
- lib/features/home/home_page.dart (rewrote from placeholder to full Accueil with schedule + assessments cards)
- lib/features/assessments/assessments_page.dart (rewrote from placeholder to tabbed Today/Week view)

## Next Steps
- Session-010: Assessments CRUD + max 3/week/class enforcement
