# Session 2026-02-04 - session-011 (Subjects UI + Access)

## Goals
- Implement Subjects/Modules list
- Enforce exact 6 subjects per class and teacher-only visibility for taught subjects

## Context
- PRD: exactly 6 subjects per class; student sees all 6; teacher sees only subjects they teach

## Atomic Tasks
1) Implement subjects provider -- DONE:
   - subjectsProvider: FutureProvider fetching subjects based on role
   - Student: all subjects from own class (classes/{classId}/subjects, ordered by name)
   - Teacher: only subjects where teacherUid matches, across all assigned classes
2) Implement Modules screen -- DONE:
   - Subject cards with icon, name, subjectId, chat icon
   - Grouped by class for teacher view
   - Empty states with French messages (role-specific)
   - Tap subject shows "bient\u00f4t disponible" snackbar (chat implemented in session-012)
3) Add navigation from subject to subject chat -- DONE (stub):
   - Tap handler ready, will connect to chat page in session-012
4) Add data validation (dev-only) -- DONE:
   - Warning banner in debug mode if student's class has != 6 subjects
5) Add route and drawer navigation -- DONE:
   - /subjects route (outside shell, own Scaffold+AppBar)
   - "Mati\u00e8res" entry in drawer menu (menu_book icon)

## Tests
- flutter analyze: 0 issues
- flutter test: 1 test passed

## Errors
- None

## Outputs
Files created:
- lib/features/subjects/subjects_providers.dart (subjectsProvider)
- lib/features/subjects/subjects_page.dart (SubjectsPage, _SubjectCard)

Files modified:
- lib/app/router.dart (added AppRoutes.subjects + SubjectsPage route)
- lib/shared/widgets/app_scaffold.dart (added "Mati\u00e8res" drawer entry)

## Next Steps
- Session-012: Messaging (class chat + subject chat) + rules
